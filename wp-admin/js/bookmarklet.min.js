!function(e,t,n,i){function a(e,n){if("undefined"!=typeof n){var i=t.createElement("input");i.name=e,i.value=n,i.type="hidden",b.appendChild(i)}}var r,o,l,s,m,g,h,c,d,u=e.encodeURIComponent,b=t.createElement("form"),p=t.getElementsByTagName("head")[0],f="_press_this_app",y=!0;if(i){if(!n.match(/^https?:/))return void(top.location.href=i);if(i+="&u="+u(n),n.match(/^https:/)&&i.match(/^http:/)&&(y=!1),e.getSelection?l=e.getSelection()+"":t.getSelection?l=t.getSelection()+"":t.selection&&(l=t.selection.createRange().text||""),i+="&buster="+(new Date).getTime(),y||(t.title&&(i+="&t="+u(t.title.substr(0,256))),l&&(i+="&s="+u(l.substr(0,512)))),r=e.outerWidth||t.documentElement.clientWidth||600,o=e.outerHeight||t.documentElement.clientHeight||700,r=800>r||r>5e3?600:.7*r,o=800>o||o>3e3?700:.9*o,!y)return void e.open(i,f,"location,resizable,scrollbars,width="+r+",height="+o);s=p.getElementsByTagName("meta")||[];for(var v=0;v<s.length&&!(v>200);v++){var E=s[v],w=E.getAttribute("name"),A=E.getAttribute("property"),_=E.getAttribute("content");_&&(w?a("_meta["+w+"]",_):A&&a("_meta["+A+"]",_))}m=p.getElementsByTagName("link")||[];for(var B=0;B<m.length&&!(B>=50);B++){var N=m[B],T=N.getAttribute("rel");("canonical"===T||"icon"===T||"shortlink"===T)&&a("_links["+T+"]",N.getAttribute("href"))}t.body.getElementsByClassName&&(g=t.body.getElementsByClassName("hfeed")[0]),g=t.getElementById("content")||g||t.body,h=g.getElementsByTagName("img")||[];for(var C=0;C<h.length&&!(C>=100);C++)d=h[C],d.src.indexOf("avatar")>-1||d.className.indexOf("avatar")>-1||d.width&&d.width<256||d.height&&d.height<128||a("_images[]",d.src);c=t.body.getElementsByTagName("iframe")||[];for(var S=0;S<c.length&&!(S>=50);S++)a("_embeds[]",c[S].src);t.title&&a("t",t.title),l&&a("s",l),b.setAttribute("method","POST"),b.setAttribute("action",i),b.setAttribute("target",f),b.setAttribute("style","display: none;"),e.open("about:blank",f,"location,resizable,scrollbars,width="+r+",height="+o),t.body.appendChild(b),b.submit()}}(window,document,top.location.href,window.pt_url);